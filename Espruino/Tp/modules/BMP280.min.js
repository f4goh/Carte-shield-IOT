function f(a,b,c){this.read=b;this.write=c;this.write(244,39);this.write(245,160);this.readCoefficients()}function e(a,b){a=(a[b+1]<<8)+a[b];a&32768&&(a-=65536);return a}f.prototype.setPower=function(a){var b=this.read(244,1)[0];this.write(244,a?b|3:b&-4)};f.prototype.readCoefficients=function(){var a=new Uint8Array(32);a.set(this.read(136,24),0);this.dT=[,e(a,0),e(a,2),e(a,4)];this.dP=[,e(a,6),e(a,8),e(a,10),e(a,12),e(a,14),e(a,16),e(a,18),e(a,20),e(a,22)]};f.prototype.readRawData=
function(){var a=this.read(247,6);this.pres_raw=a[0]<<12|a[1]<<4|a[2]>>4;this.temp_raw=a[3]<<12|a[4]<<4|a[5]>>4};f.prototype.calibration_T=function(a){var b=this.dT;var c=(a/16384-b[1]/1024)*b[2];a=(a/131072-b[1]/8192)*(a/131072-b[1]/8192)*b[3];this.t_fine=c+a;return(c+a)/5120*100};f.prototype.calibration_P=function(a){var b=this.dP;var c=this.t_fine/2-64E3;var d=c*c*b[6]/32768;d+=c*b[5]*2;d=d/4+65536*b[4];c=(b[3]*c*c/524288+b[2]*c)/524288;c=(1+c/32768)*b[1];if(0===c)return 0;a=6250*(1048576-a-d/
4096)/c;c=b[9]*a*a/2147483648;d=a*b[8]/32768;return a+=(c+d+b[7])/16};f.prototype.getData=function(){this.readRawData();return{temp:this.calibration_T(this.temp_raw)/100,pressure:this.calibration_P(this.pres_raw)/100}};exports.connect=function(a,b){return new f(b,function(c,d){a.writeTo(118,c);return a.readFrom(118,d)},function(c,d){a.writeTo(118,[c,d])})};exports.connectSPI=function(a,b,c){return new f(c,function(d,g){return a.send([d|128,new Uint8Array(g)],b).slice(1)},function(d,g){a.write(d&127,
g,b)})}